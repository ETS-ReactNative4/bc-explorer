[2019-04-16 10:02:25.773] [DEBUG] pgservice -  the getRowByPkOne sql select count(1) as c from orderer where requests='grpc://127.0.0.1:7050' 
[2019-04-16 10:02:25.774] [DEBUG] pgservice - Insert sql is INSERT INTO orderer  ( "requests","server_hostname" ) VALUES( $1,$2  ) RETURNING *;
[2019-04-16 10:02:25.797] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:25.798] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:25.928] [DEBUG] pgservice -  the getRowsBySQlCase select max(blocknum) as blocknum from blocks  where channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:02:25.975] [DEBUG] pgservice -  the getRowByPkOne sql select count(1) as c from chaincodes where name='defaultcc' and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and version='v1' and path='chaincode'
[2019-04-16 10:02:25.975] [DEBUG] pgservice - Insert sql is INSERT INTO chaincodes  ( "name","version","path","channel_genesis_hash" ) VALUES( $1,$2,$3,$4  ) RETURNING *;
[2019-04-16 10:02:26.025] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:26.026] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.030] [DEBUG] pgservice -  the getRowByPkOne sql select count(1) as c from channel where name='foo' and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:02:26.030] [DEBUG] pgservice - Insert sql is INSERT INTO channel  ( "name","createdt","blocks","trans","channel_hash","channel_genesis_hash" ) VALUES( $1,$2,$3,$4,$5,$6  ) RETURNING *;
[2019-04-16 10:02:26.047] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:26.048] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.051] [DEBUG] pgservice -  the getRowByPkOne sql select count(1) as c from blocks where blocknum='1' and txcount='1'
        and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and prehash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and datahash='c721b1b22ddb650c77ecd561f6674bf9aa0bbcb35db48e9eadb6eefb8412dd3a' 
[2019-04-16 10:02:26.052] [DEBUG] pgservice - Insert sql is INSERT INTO blocks  ( "blocknum","prehash","datahash","blockhash","txcount","channel_genesis_hash","createdt" ) VALUES( $1,$2,$3,$4,$5,$6,$7  ) RETURNING *;
[2019-04-16 10:02:26.058] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:26.058] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.126] [DEBUG] pgservice - Insert sql is INSERT INTO transactions  ( "blockid","txhash","createdt","chaincodename","chaincode_id","status","creator_msp_id","endorser_msp_id","tx_response","type","read_set","write_set","channel_genesis_hash","validation_code","envelope_signature","payload_extension","creator_nonce","chaincode_proposal_input","endorser_signature","creator_id_bytes","payload_proposal_hash","endorser_id_bytes" ) VALUES( $1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22  ) RETURNING *;
[2019-04-16 10:02:26.131] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:26.131] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.132] [DEBUG] pgservice - update sql is :  update chaincodes set txcount =txcount+1 where name = 'lscc' and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:02:26.133] [DEBUG] pgservice - --------------------------UPDATE----------------------------
[2019-04-16 10:02:26.133] [DEBUG] pgservice -  update result : undefined
[2019-04-16 10:02:26.133] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.195] [DEBUG] pgservice -  the getRowByPkOne sql select count(1) as c from blocks where blocknum='0' and txcount='1'
        and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and prehash='' and datahash='97ea4c0e845045d6f7f1ba3ee0f457b5dd554b350825f09e2436aa660844e380' 
[2019-04-16 10:02:26.195] [DEBUG] pgservice - Insert sql is INSERT INTO blocks  ( "blocknum","prehash","datahash","blockhash","txcount","channel_genesis_hash","createdt" ) VALUES( $1,$2,$3,$4,$5,$6,$7  ) RETURNING *;
[2019-04-16 10:02:26.203] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:26.203] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.231] [DEBUG] pgservice - Insert sql is INSERT INTO transactions  ( "blockid","txhash","createdt","chaincodename","chaincode_id","status","creator_msp_id","endorser_msp_id","tx_response","type","read_set","write_set","channel_genesis_hash","validation_code","envelope_signature","payload_extension","creator_nonce","chaincode_proposal_input","endorser_signature","creator_id_bytes","payload_proposal_hash","endorser_id_bytes" ) VALUES( $1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22  ) RETURNING *;
[2019-04-16 10:02:26.236] [DEBUG] pgservice - --------------------------INSERT----------------------------
[2019-04-16 10:02:26.236] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.236] [DEBUG] pgservice - update sql is :  update chaincodes set txcount =txcount+1 where name = '' and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:02:26.238] [DEBUG] pgservice - --------------------------UPDATE----------------------------
[2019-04-16 10:02:26.238] [DEBUG] pgservice -  update result : undefined
[2019-04-16 10:02:26.238] [DEBUG] pgservice - -----------------------------------------------------------------


[2019-04-16 10:02:26.283] [DEBUG] pgservice -  the getRowByPkOne sql select count(1) as c from blocks where blocknum='1' and txcount='1'
        and channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and prehash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and datahash='c721b1b22ddb650c77ecd561f6674bf9aa0bbcb35db48e9eadb6eefb8412dd3a' 
[2019-04-16 10:05:10.461] [DEBUG] pgservice -  the getRowsBySQlQuery select a.* from  (
      select (select c.name from channel c where c.channel_genesis_hash =
         'f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' ) as channelname, blocks.blocknum,blocks.txcount ,blocks.datahash ,blocks.blockhash ,blocks.prehash,blocks.createdt,(
        SELECT  array_agg(txhash) as txhash FROM transactions where blockid = blocks.blocknum  and
         channel_genesis_hash = 'f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and createdt between '2019-04-15T14:05:10.454Z' and '2019-04-16T14:05:10.454Z') from blocks where
         blocks.channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and blocknum >= 0 and blocks.createdt between '2019-04-15T14:05:10.454Z' and '2019-04-16T14:05:10.454Z'
         order by blocks.blocknum desc)  a where  a.txhash IS NOT NULL
[2019-04-16 10:05:10.468] [DEBUG] pgservice -  the getRowsBySQlQuery  with hours as (
            select generate_series(
              date_trunc('hour', now()) - '1day'::interval,
              date_trunc('hour', now()),
              '1 hour'::interval
            ) as datetime
          )
          select
            hours.datetime,
            count(createdt)
          from hours
          left join BLOCKS on date_trunc('hour', BLOCKS.createdt) = hours.datetime and channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
          group by 1
          order by 1 
[2019-04-16 10:05:10.483] [DEBUG] pgservice -  the getRowsBySQlQuery  with minutes as (
            select generate_series(
              date_trunc('min', now()) - '1 hour'::interval,
              date_trunc('min', now()),
              '1 min'::interval
            ) as datetime
          )
          select
            minutes.datetime,
            count(createdt)
          from minutes
          left join BLOCKS on date_trunc('min', BLOCKS.createdt) = minutes.datetime and channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
          group by 1
          order by 1  
[2019-04-16 10:05:10.491] [DEBUG] pgservice -  the getRowsBySQlNoCondtion select  c.name as chaincodename,channel.name as channelname ,c.version as version,c.channel_genesis_hash
       as channel_genesis_hash,c.path as path ,txcount  as c from chaincodes as c inner join channel on c.channel_genesis_hash=channel.channel_genesis_hash where  c.channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' 
[2019-04-16 10:05:10.542] [DEBUG] pgservice -  the getRowsBySQlNoCondtion  select c.id as id,c.name as channelName,c.blocks as blocks ,c.channel_genesis_hash as channel_genesis_hash,c.trans as transactions,c.createdt as createdat,c.channel_hash as channel_hash from channel c
        group by c.id ,c.name ,c.blocks  ,c.trans ,c.createdt ,c.channel_hash,c.channel_genesis_hash order by c.name 
[2019-04-16 10:05:10.555] [DEBUG] pgservice -  the getRowsBySQlNoCondtion select channel.name as channelName,c.requests as requests,c.channel_genesis_hash as channel_genesis_hash ,
    c.server_hostname as server_hostname, c.mspid as mspid, c.peer_type as peer_type  from peer as c inner join  channel on
    c.channel_genesis_hash=channel.channel_genesis_hash where c.channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:05:10.565] [DEBUG] pgservice -  the getRowsBySQlCase select count(1) c from chaincodes where channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' 
[2019-04-16 10:05:10.569] [DEBUG] pgservice -  the getRowsBySQlQuery  select count(creator_msp_id), creator_msp_id
      from transactions
      where channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
      group by  creator_msp_id
[2019-04-16 10:05:10.575] [DEBUG] pgservice -  the getRowsBySQlQuery  select t.creator_msp_id,t.txhash,t.type,t.chaincodename,t.createdt,channel.name as channelName from transactions as t
       inner join channel on t.channel_genesis_hash=channel.channel_genesis_hash where  t.blockid >= 0 and t.id >= 0  and
       t.channel_genesis_hash = 'f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'  and t.createdt between '2019-04-15T14:05:10.550Z' and '2019-04-16T14:05:10.550Z'  order by  t.id desc
[2019-04-16 10:05:10.579] [DEBUG] pgservice -  the getRowsBySQlQuery select blocks.blocknum,blocks.txcount ,blocks.datahash ,blocks.blockhash ,blocks.prehash,blocks.createdt,(
      SELECT  array_agg(txhash) as txhash FROM transactions where blockid = blocks.blocknum and
       channel_genesis_hash = 'f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' group by transactions.blockid ),
      channel.name as channelname  from blocks inner join channel on blocks.channel_genesis_hash = channel.channel_genesis_hash  where
       blocks.channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' and blocknum >= 0
       order by blocks.blocknum desc limit 3
[2019-04-16 10:05:10.588] [DEBUG] pgservice -  the getRowsBySQlQuery  with hours as (
            select generate_series(
              date_trunc('hour', now()) - '1day'::interval,
              date_trunc('hour', now()),
              '1 hour'::interval
            ) as datetime
          )
          select
            hours.datetime,
            count(createdt)
          from hours
          left join TRANSACTIONS on date_trunc('hour', TRANSACTIONS.createdt) = hours.datetime and channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
          group by 1
          order by 1 
[2019-04-16 10:05:10.591] [DEBUG] pgservice -  the getRowsBySQlCase select count(1) c from transactions where channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:05:10.599] [DEBUG] pgservice -  the getRowsBySQlQuery  with minutes as (
            select generate_series(
              date_trunc('min', now()) - '1hour'::interval,
              date_trunc('min', now()),
              '1 min'::interval
            ) as datetime
          )
          select
            minutes.datetime,
            count(createdt)
          from minutes
          left join TRANSACTIONS on date_trunc('min', TRANSACTIONS.createdt) = minutes.datetime and channel_genesis_hash ='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
          group by 1
          order by 1 
[2019-04-16 10:05:10.603] [DEBUG] pgservice -  the getRowsBySQlCase select count(1) c from blocks where channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee'
[2019-04-16 10:05:10.607] [DEBUG] pgservice -  the getRowsBySQlCase select count(1) c from peer where channel_genesis_hash='f9e5d831e0e23fe27dcf925e1270445ce990ab2b362336134321704ee072e7ee' 
